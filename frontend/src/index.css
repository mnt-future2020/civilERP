@import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --background: 210 40% 98%;
        --foreground: 222 84% 5%;
        --card: 0 0% 100%;
        --card-foreground: 222 84% 5%;
        --popover: 0 0% 100%;
        --popover-foreground: 222 84% 5%;
        --primary: 222 47% 11%;
        --primary-foreground: 210 40% 98%;
        --secondary: 43 100% 50%;
        --secondary-foreground: 222 47% 11%;
        --accent: 217 91% 40%;
        --accent-foreground: 0 0% 100%;
        --muted: 210 40% 96%;
        --muted-foreground: 215 16% 47%;
        --destructive: 0 84% 60%;
        --destructive-foreground: 210 40% 98%;
        --border: 214 32% 91%;
        --input: 214 32% 91%;
        --ring: 217 91% 40%;
        --chart-1: 217 91% 40%;
        --chart-2: 43 100% 50%;
        --chart-3: 173 58% 39%;
        --chart-4: 142 76% 36%;
        --chart-5: 0 84% 60%;
        --radius: 0.125rem;
        --sidebar-background: 222 47% 11%;
        --sidebar-foreground: 210 40% 98%;
    }

    .dark {
        --background: 222 47% 4%;
        --foreground: 210 40% 98%;
        --card: 222 47% 7%;
        --card-foreground: 210 40% 98%;
        --popover: 222 47% 7%;
        --popover-foreground: 210 40% 98%;
        --primary: 210 40% 98%;
        --primary-foreground: 222 47% 11%;
        --secondary: 43 100% 50%;
        --secondary-foreground: 222 47% 11%;
        --accent: 217 91% 50%;
        --accent-foreground: 0 0% 100%;
        --muted: 217 33% 17%;
        --muted-foreground: 215 20% 65%;
        --destructive: 0 62% 50%;
        --destructive-foreground: 210 40% 98%;
        --border: 217 33% 17%;
        --input: 217 33% 17%;
        --ring: 217 91% 50%;
        --sidebar-background: 222 47% 7%;
        --sidebar-foreground: 210 40% 98%;
    }
}

@layer base {
    * {
        @apply border-border;
    }
    
    html {
        scroll-behavior: smooth;
    }
    
    body {
        @apply bg-background text-foreground antialiased;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    
    h1, h2, h3, h4, h5, h6 {
        font-family: 'Barlow Condensed', sans-serif;
        @apply tracking-tight font-semibold;
    }
    
    code, pre, .mono {
        font-family: 'JetBrains Mono', monospace;
    }
}

/* Noise texture overlay */
.noise-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9999;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    @apply bg-muted;
}

::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/30 rounded-sm;
}

::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/50;
}

/* Animations */
@keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slide-up {
    from { 
        opacity: 0;
        transform: translateY(10px);
    }
    to { 
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slide-in-right {
    from {
        opacity: 0;
        transform: translateX(-10px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.animate-fade-in {
    animation: fade-in 0.3s ease-out forwards;
}

.animate-slide-up {
    animation: slide-up 0.4s ease-out forwards;
}

.animate-slide-in-right {
    animation: slide-in-right 0.3s ease-out forwards;
}

/* Stagger children animations */
.stagger-children > * {
    opacity: 0;
    animation: slide-up 0.4s ease-out forwards;
}

.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 50ms; }
.stagger-children > *:nth-child(3) { animation-delay: 100ms; }
.stagger-children > *:nth-child(4) { animation-delay: 150ms; }
.stagger-children > *:nth-child(5) { animation-delay: 200ms; }
.stagger-children > *:nth-child(6) { animation-delay: 250ms; }
.stagger-children > *:nth-child(7) { animation-delay: 300ms; }
.stagger-children > *:nth-child(8) { animation-delay: 350ms; }

/* Glass morphism card */
.glass-card {
    @apply backdrop-blur-xl bg-white/80 dark:bg-slate-900/80 border border-white/20;
}

/* KPI Card styles */
.kpi-card {
    @apply relative overflow-hidden rounded-sm border bg-card p-4;
    transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
}

.kpi-card:hover {
    transform: translateY(-2px);
    @apply shadow-md;
}

.kpi-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    @apply bg-accent;
}

.kpi-card.warning::before {
    @apply bg-secondary;
}

.kpi-card.success::before {
    @apply bg-emerald-500;
}

.kpi-card.danger::before {
    @apply bg-destructive;
}

/* Sidebar styles */
.sidebar {
    @apply fixed left-0 top-0 h-screen w-64 bg-slate-900 text-slate-100 z-40;
}

.sidebar-item {
    @apply flex items-center gap-3 px-4 py-3 text-slate-300 rounded-sm mx-2;
    transition: background-color 0.15s ease, color 0.15s ease;
}

.sidebar-item:hover {
    @apply bg-slate-800 text-white;
}

.sidebar-item.active {
    @apply bg-accent text-white;
}

/* Table styles */
.data-table {
    @apply w-full;
}

.data-table th {
    @apply sticky top-0 bg-muted/50 backdrop-blur-sm text-left font-semibold text-xs uppercase tracking-wide text-muted-foreground px-4 py-3;
}

.data-table td {
    @apply px-4 py-3 border-b border-border;
}

.data-table tr:hover td {
    @apply bg-muted/30;
}

/* Status badges */
.status-badge {
    @apply inline-flex items-center px-2 py-0.5 rounded-sm text-xs font-medium uppercase tracking-wide;
}

.status-badge.planning {
    @apply bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400;
}

.status-badge.in-progress {
    @apply bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400;
}

.status-badge.completed {
    @apply bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400;
}

.status-badge.on-hold {
    @apply bg-slate-100 text-slate-800 dark:bg-slate-900/30 dark:text-slate-400;
}

.status-badge.pending {
    @apply bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400;
}

.status-badge.approved {
    @apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400;
}

/* Form styles */
.form-section {
    @apply space-y-4 p-6 border rounded-sm bg-card;
}

.form-section-title {
    @apply text-lg font-semibold uppercase tracking-wide text-muted-foreground mb-4 pb-2 border-b;
}

/* Bento grid */
.bento-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

.bento-grid-dense {
    @apply grid gap-4;
    grid-template-columns: repeat(12, 1fr);
}

.bento-span-3 { grid-column: span 3; }
.bento-span-4 { grid-column: span 4; }
.bento-span-6 { grid-column: span 6; }
.bento-span-8 { grid-column: span 8; }
.bento-span-12 { grid-column: span 12; }

@media (max-width: 1024px) {
    .bento-span-3, .bento-span-4 { grid-column: span 6; }
    .bento-span-6 { grid-column: span 12; }
    .bento-span-8 { grid-column: span 12; }
}

@media (max-width: 640px) {
    .bento-span-3, .bento-span-4, .bento-span-6, .bento-span-8 {
        grid-column: span 12;
    }

/* Chart container - Fixed dimensions for Recharts */
.chart-wrapper {
    @apply w-full relative;
    min-height: 256px;
}

.chart-wrapper > div {
    @apply absolute inset-0;
}

/* Recharts responsive container fix */
.recharts-responsive-container {
    min-width: 0 !important;
    min-height: 200px !important;
}
}

/* Chart container */
.chart-container {
    @apply w-full h-64 md:h-80;
}

/* Loading skeleton pulse */
.skeleton-pulse {
    @apply animate-pulse bg-muted rounded-sm;
}

/* Focus ring */
.focus-ring {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
}

/* Debug wrapper */
[data-debug-wrapper="true"] {
    display: contents !important;
}
